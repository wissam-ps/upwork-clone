var setupSUIT2=function(){"use strict";function e(e){var t=e.charAt(e.length-1),n=parseInt(e,10),r=new Date;switch(t){case"Y":r.setFullYear(r.getFullYear()+n);break;case"M":r.setMonth(r.getMonth()+n);break;case"D":r.setDate(r.getDate()+n);break;case"h":r.setHours(r.getHours()+n);break;case"m":r.setMinutes(r.getMinutes()+n);break;case"s":r.setSeconds(r.getSeconds()+n);break;default:r=new Date(e)}return r}function t(t){for(var n="",r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];if(/^expires$/i.test(i)){var a=t[i],c=void 0;"object"==typeof a?c=a:(a+="number"==typeof a?"D":"",c=e(String(a))),n+=";".concat(i,"=").concat(c.toUTCString())}else/^secure$/.test(i)?t[i]&&(n+=";".concat(i)):n+=";".concat(i,"=").concat(t[i])}return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(t,"path")||(n+=";path=/"),n}function n(e,t){if(void 0===t&&(t=decodeURIComponent),"string"!=typeof e||!e)return null;var n=new RegExp("(?:^|; )".concat(e.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&"),"(?:=([^;]*))?(?:;|$)")).exec(document.cookie);return null===n?null:"function"==typeof t?t(n[1]):n[1]}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i=function(e){return e&&e.Math==Math&&e},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r&&r)||function(){return this}()||Function("return this")();o(a);var c={},s=function(e){try{return!!e()}catch(e){return!0}};o(s);var u=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));o(u);var l=!s((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}));o(l);var f=l,d=Function.prototype.call,v=f?d.bind(d):function(){return d.apply(d,arguments)};o(v);var g={},p={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!p.call({1:2},1);g.f=m?function(e){var t=h(this,e);return!!t&&t.enumerable}:p;var y=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};o(y);var w=l,b=Function.prototype,k=b.call,x=w&&b.bind.bind(k,k),O=w?x:function(e){return function(){return k.apply(e,arguments)}};o(O);var S=O,C=S({}.toString),j=S("".slice),E=function(e){return j(C(e),8,-1)};o(E);var T=s,A=E,P=Object,I=O("".split),M=T((function(){return!P("z").propertyIsEnumerable(0)}))?function(e){return"String"==A(e)?I(e,""):P(e)}:P;o(M);var _=function(e){return null==e};o(_);var D=_,L=TypeError,U=function(e){if(D(e))throw L("Can't call method on "+e);return e};o(U);var $=M,N=U,R=function(e){return $(N(e))};o(R);var B="object"==typeof document&&document.all,V={all:B,IS_HTMLDDA:void 0===B&&void 0!==B};o(V);var q=V.all,F=V.IS_HTMLDDA?function(e){return"function"==typeof e||e===q}:function(e){return"function"==typeof e};o(F);var H=F,z=V.all,Q=V.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:H(e)||e===z}:function(e){return"object"==typeof e?null!==e:H(e)};o(Q);var G=a,W=F,J=function(e,t){return arguments.length<2?(n=G[e],W(n)?n:void 0):G[e]&&G[e][t];var n};o(J);var X=O({}.isPrototypeOf);o(X);var Y="undefined"!=typeof navigator&&String(navigator.userAgent)||"";o(Y);var Z,K,ee=a,te=Y,ne=ee.process,re=ee.Deno,oe=ne&&ne.versions||re&&re.version,ie=oe&&oe.v8;ie&&(K=(Z=ie.split("."))[0]>0&&Z[0]<4?1:+(Z[0]+Z[1])),!K&&te&&(!(Z=te.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=te.match(/Chrome\/(\d+)/))&&(K=+Z[1]);var ae=K;o(ae);var ce=ae,se=s,ue=!!Object.getOwnPropertySymbols&&!se((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ce&&ce<41}));o(ue);var le=ue&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;o(le);var fe=J,de=F,ve=X,ge=Object,pe=le?function(e){return"symbol"==typeof e}:function(e){var t=fe("Symbol");return de(t)&&ve(t.prototype,ge(e))};o(pe);var he=String,me=function(e){try{return he(e)}catch(e){return"Object"}};o(me);var ye=F,we=me,be=TypeError,ke=function(e){if(ye(e))return e;throw be(we(e)+" is not a function")};o(ke);var xe=ke,Oe=_,Se=function(e,t){var n=e[t];return Oe(n)?void 0:xe(n)};o(Se);var Ce=v,je=F,Ee=Q,Te=TypeError,Ae=function(e,t){var n,r;if("string"===t&&je(n=e.toString)&&!Ee(r=Ce(n,e)))return r;if(je(n=e.valueOf)&&!Ee(r=Ce(n,e)))return r;if("string"!==t&&je(n=e.toString)&&!Ee(r=Ce(n,e)))return r;throw Te("Can't convert object to primitive value")};o(Ae);var Pe={exports:{}};o(!1);var Ie=a,Me=Object.defineProperty,_e=function(e,t){try{Me(Ie,e,{value:t,configurable:!0,writable:!0})}catch(n){Ie[e]=t}return t};o(_e);var De=_e,Le="__core-js_shared__",Ue=a[Le]||De(Le,{});o(Ue);var $e=Ue;(Pe.exports=function(e,t){return $e[e]||($e[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ne=Pe.exports;o(Ne);var Re=U,Be=Object,Ve=function(e){return Be(Re(e))};o(Ve);var qe=Ve,Fe=O({}.hasOwnProperty),He=Object.hasOwn||function(e,t){return Fe(qe(e),t)};o(He);var ze=O,Qe=0,Ge=Math.random(),We=ze(1..toString),Je=function(e){return"Symbol("+(void 0===e?"":e)+")_"+We(++Qe+Ge,36)};o(Je);var Xe=Ne,Ye=He,Ze=Je,Ke=ue,et=le,tt=a.Symbol,nt=Xe("wks"),rt=et?tt.for||tt:tt&&tt.withoutSetter||Ze,ot=function(e){return Ye(nt,e)||(nt[e]=Ke&&Ye(tt,e)?tt[e]:rt("Symbol."+e)),nt[e]};o(ot);var it=v,at=Q,ct=pe,st=Se,ut=Ae,lt=TypeError,ft=ot("toPrimitive"),dt=function(e,t){if(!at(e)||ct(e))return e;var n,r=st(e,ft);if(r){if(void 0===t&&(t="default"),n=it(r,e,t),!at(n)||ct(n))return n;throw lt("Can't convert object to primitive value")}return void 0===t&&(t="number"),ut(e,t)};o(dt);var vt=dt,gt=pe,pt=function(e){var t=vt(e,"string");return gt(t)?t:t+""};o(pt);var ht=Q,mt=a.document,yt=ht(mt)&&ht(mt.createElement),wt=function(e){return yt?mt.createElement(e):{}};o(wt);var bt=wt,kt=!u&&!s((function(){return 7!=Object.defineProperty(bt("div"),"a",{get:function(){return 7}}).a}));o(kt);var xt=u,Ot=v,St=g,Ct=y,jt=R,Et=pt,Tt=He,At=kt,Pt=Object.getOwnPropertyDescriptor;c.f=xt?Pt:function(e,t){if(e=jt(e),t=Et(t),At)try{return Pt(e,t)}catch(e){}if(Tt(e,t))return Ct(!Ot(St.f,e,t),e[t])};var It={},Mt=u&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));o(Mt);var _t=Q,Dt=String,Lt=TypeError,Ut=function(e){if(_t(e))return e;throw Lt(Dt(e)+" is not an object")};o(Ut);var $t=u,Nt=kt,Rt=Mt,Bt=Ut,Vt=pt,qt=TypeError,Ft=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,zt="enumerable",Qt="configurable",Gt="writable";It.f=$t?Rt?function(e,t,n){if(Bt(e),t=Vt(t),Bt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Gt in n&&!n[Gt]){var r=Ht(e,t);r&&r[Gt]&&(e[t]=n.value,n={configurable:Qt in n?n[Qt]:r[Qt],enumerable:zt in n?n[zt]:r[zt],writable:!1})}return Ft(e,t,n)}:Ft:function(e,t,n){if(Bt(e),t=Vt(t),Bt(n),Nt)try{return Ft(e,t,n)}catch(e){}if("get"in n||"set"in n)throw qt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Wt=It,Jt=y,Xt=u?function(e,t,n){return Wt.f(e,t,Jt(1,n))}:function(e,t,n){return e[t]=n,e};o(Xt);var Yt={exports:{}},Zt=u,Kt=He,en=Function.prototype,tn=Zt&&Object.getOwnPropertyDescriptor,nn=Kt(en,"name"),rn={EXISTS:nn,PROPER:nn&&"something"===function(){}.name,CONFIGURABLE:nn&&(!Zt||Zt&&tn(en,"name").configurable)};o(rn);var on=F,an=Ue,cn=O(Function.toString);on(an.inspectSource)||(an.inspectSource=function(e){return cn(e)});var sn=an.inspectSource;o(sn);var un=F,ln=a.WeakMap,fn=un(ln)&&/native code/.test(String(ln));o(fn);var dn=Je,vn=Ne("keys"),gn=function(e){return vn[e]||(vn[e]=dn(e))};o(gn);var pn={};o(pn);var hn,mn,yn,wn=fn,bn=a,kn=Q,xn=Xt,On=He,Sn=Ue,Cn=gn,jn=pn,En="Object already initialized",Tn=bn.TypeError,An=bn.WeakMap;if(wn||Sn.state){var Pn=Sn.state||(Sn.state=new An);Pn.get=Pn.get,Pn.has=Pn.has,Pn.set=Pn.set,hn=function(e,t){if(Pn.has(e))throw Tn(En);return t.facade=e,Pn.set(e,t),t},mn=function(e){return Pn.get(e)||{}},yn=function(e){return Pn.has(e)}}else{var In=Cn("state");jn[In]=!0,hn=function(e,t){if(On(e,In))throw Tn(En);return t.facade=e,xn(e,In,t),t},mn=function(e){return On(e,In)?e[In]:{}},yn=function(e){return On(e,In)}}var Mn={set:hn,get:mn,has:yn,enforce:function(e){return yn(e)?mn(e):hn(e,{})},getterFor:function(e){return function(t){var n;if(!kn(t)||(n=mn(t)).type!==e)throw Tn("Incompatible receiver, "+e+" required");return n}}};o(Mn);var _n=O,Dn=s,Ln=F,Un=He,$n=u,Nn=rn.CONFIGURABLE,Rn=sn,Bn=Mn.enforce,Vn=Mn.get,qn=String,Fn=Object.defineProperty,Hn=_n("".slice),zn=_n("".replace),Qn=_n([].join),Gn=$n&&!Dn((function(){return 8!==Fn((function(){}),"length",{value:8}).length})),Wn=String(String).split("String"),Jn=Yt.exports=function(e,t,n){"Symbol("===Hn(qn(t),0,7)&&(t="["+zn(qn(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Un(e,"name")||Nn&&e.name!==t)&&($n?Fn(e,"name",{value:t,configurable:!0}):e.name=t),Gn&&n&&Un(n,"arity")&&e.length!==n.arity&&Fn(e,"length",{value:n.arity});try{n&&Un(n,"constructor")&&n.constructor?$n&&Fn(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=Bn(e);return Un(r,"source")||(r.source=Qn(Wn,"string"==typeof t?t:"")),e};Function.prototype.toString=Jn((function(){return Ln(this)&&Vn(this).source||Rn(this)}),"toString");var Xn=Yt.exports;o(Xn);var Yn=F,Zn=It,Kn=Xn,er=_e,tr=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(Yn(n)&&Kn(n,i,r),r.global)o?e[t]=n:er(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:Zn.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e};o(tr);var nr={},rr=Math.ceil,or=Math.floor,ir=Math.trunc||function(e){var t=+e;return(t>0?or:rr)(t)};o(ir);var ar=ir,cr=function(e){var t=+e;return t!=t||0===t?0:ar(t)};o(cr);var sr=cr,ur=Math.max,lr=Math.min,fr=function(e,t){var n=sr(e);return n<0?ur(n+t,0):lr(n,t)};o(fr);var dr=cr,vr=Math.min,gr=function(e){return e>0?vr(dr(e),9007199254740991):0};o(gr);var pr=gr,hr=function(e){return pr(e.length)};o(hr);var mr=R,yr=fr,wr=hr,br=function(e){return function(t,n,r){var o,i=mr(t),a=wr(i),c=yr(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},kr={includes:br(!0),indexOf:br(!1)};o(kr);var xr=He,Or=R,Sr=kr.indexOf,Cr=pn,jr=O([].push),Er=function(e,t){var n,r=Or(e),o=0,i=[];for(n in r)!xr(Cr,n)&&xr(r,n)&&jr(i,n);for(;t.length>o;)xr(r,n=t[o++])&&(~Sr(i,n)||jr(i,n));return i};o(Er);var Tr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];o(Tr);var Ar=Er,Pr=Tr.concat("length","prototype");nr.f=Object.getOwnPropertyNames||function(e){return Ar(e,Pr)};var Ir={};Ir.f=Object.getOwnPropertySymbols;var Mr=J,_r=nr,Dr=Ir,Lr=Ut,Ur=O([].concat),$r=Mr("Reflect","ownKeys")||function(e){var t=_r.f(Lr(e)),n=Dr.f;return n?Ur(t,n(e)):t};o($r);var Nr=He,Rr=$r,Br=c,Vr=It,qr=function(e,t,n){for(var r=Rr(t),o=Vr.f,i=Br.f,a=0;a<r.length;a++){var c=r[a];Nr(e,c)||n&&Nr(n,c)||o(e,c,i(t,c))}};o(qr);var Fr=s,Hr=F,zr=/#|\.prototype\./,Qr=function(e,t){var n=Wr[Gr(e)];return n==Xr||n!=Jr&&(Hr(t)?Fr(t):!!t)},Gr=Qr.normalize=function(e){return String(e).replace(zr,".").toLowerCase()},Wr=Qr.data={},Jr=Qr.NATIVE="N",Xr=Qr.POLYFILL="P",Yr=Qr;o(Yr);var Zr=a,Kr=c.f,eo=Xt,to=tr,no=_e,ro=qr,oo=Yr,io=function(e,t){var n,r,o,i,a,c=e.target,s=e.global,u=e.stat;if(n=s?Zr:u?Zr[c]||no(c,{}):(Zr[c]||{}).prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(a=Kr(n,r))&&a.value:n[r],!oo(s?r:c+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;ro(i,o)}(e.sham||o&&o.sham)&&eo(i,"sham",!0),to(n,r,i,e)}};o(io);var ao={},co=Er,so=Tr,uo=Object.keys||function(e){return co(e,so)};o(uo);var lo=u,fo=Mt,vo=It,go=Ut,po=R,ho=uo;ao.f=lo&&!fo?Object.defineProperties:function(e,t){go(e);for(var n,r=po(t),o=ho(t),i=o.length,a=0;i>a;)vo.f(e,n=o[a++],r[n]);return e};var mo=J("document","documentElement");o(mo);var yo,wo=Ut,bo=ao,ko=Tr,xo=pn,Oo=mo,So=wt,Co="prototype",jo="script",Eo=gn("IE_PROTO"),To=function(){},Ao=function(e){return"<"+jo+">"+e+"</"+jo+">"},Po=function(e){e.write(Ao("")),e.close();var t=e.parentWindow.Object;return e=null,t},Io=function(){try{yo=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;Io="undefined"!=typeof document?document.domain&&yo?Po(yo):(t=So("iframe"),n="java"+jo+":",t.style.display="none",Oo.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(Ao("document.F=Object")),e.close(),e.F):Po(yo);for(var r=ko.length;r--;)delete Io[Co][ko[r]];return Io()};xo[Eo]=!0;var Mo=Object.create||function(e,t){var n;return null!==e?(To[Co]=wo(e),n=new To,To[Co]=null,n[Eo]=e):n=Io(),void 0===t?n:bo.f(n,t)};o(Mo);var _o=ot,Do=Mo,Lo=It.f,Uo=_o("unscopables"),$o=Array.prototype;null==$o[Uo]&&Lo($o,Uo,{configurable:!0,value:Do(null)});var No=function(e){$o[Uo][e]=!0};o(No);var Ro=kr.includes,Bo=No;io({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return Ro(this,e,arguments.length>1?arguments[1]:void 0)}}),Bo("includes");var Vo=function(){return Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vo.apply(this,arguments)};function qo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Fo(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))}function Ho(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}class zo{constructor(){this.queue=[],this.onEnqueue=null}enqueue(e){const t=Object.assign(Object.assign({id:`${e.event}-${e.label}-${Date.now()}-${Math.random().toString(36).substring(2,7)}`},e),{createdAt:Date.now(),sent:null});return new Promise((e=>{t.sent=e,this.queue.push(t),this.onEnqueue&&this.onEnqueue()}))}dequeue(){const e=[...this.queue];return this.queue=[],e}removeEvents(e){const t=e.map((e=>e.id));this.queue=this.queue.filter((e=>!t.includes(e.id)))}clear(){this.queue=[]}getCurrentQueue(){return[...this.queue]}get length(){return this.queue.length}isEmpty(){return 0===this.length}}function Qo(e){return!!("ontouchstart"in e.document.documentElement||e.DocumentTouch&&e.document instanceof e.DocumentTouch)}function Go(e){return{recognized:n(`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}recognized`),touch_screen:Qo(e)}}function Wo(e){var t=this;let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return{clear:()=>{clearTimeout(n)},fn:function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return clearTimeout(n),n=setTimeout((()=>{e.apply(t,i)}),r),{flush:()=>{clearTimeout(n),e.apply(t,i)}}}}}class Jo{constructor(e,t,n,r,o,i){this.window=e,this.eventQueue=t,this.trackerManager=n,this.eventModifierManager=r,this.contextManager=o,this.config=i,this.debouncedProcessQueue=Wo(this.processQueue.bind(this),100)}setupEventProcessing(){this.eventQueue.onEnqueue=this.onQueueUpdate.bind(this),this.window.addEventListener("pagehide",this.flushQueue.bind(this)),this.window.addEventListener("visibilitychange",this.flushQueue.bind(this))}onQueueUpdate(){this.debouncedProcessQueue.fn()}processQueue(){return Fo(this,void 0,void 0,(function*(){const e=this.eventQueue.dequeue();if(0===e.length)return;const t=(this.config.dedupeGeneralEvents?e.reduce(((e,t,n)=>{var r,o;const i=n>=1?e[e.length-1]:null;if(!i)return[...e,t];const a=t.createdAt-i.createdAt,c=0!==(null===(r=i.trackers)||void 0===r?void 0:r.filter((e=>{var n;return-1!==(null===(n=t.trackers)||void 0===n?void 0:n.indexOf(e))})).length),s=null===(o=t.label)||void 0===o?void 0:o.startsWith("general_");if(a>=0&&a<=50&&"general_click"===i.label&&i.event===t.event&&!s&&c){const n=qo(i.data||{},["location","sublocation"]);return[...e.slice(0,e.length-1),Object.assign(Object.assign({},t),i.data&&{data:Object.assign(Object.assign({},n),t.data)})]}return[...e,t]}),[]):e).map((e=>this.processEvent(e)));yield Promise.allSettled(t)}))}flushQueue(){return Fo(this,void 0,void 0,(function*(){return this.debouncedProcessQueue.clear(),this.processQueue()}))}queuedToSuitEvent(e){return qo(e,["id","trackers","sent","createdAt"])}processEvent(e){return Fo(this,void 0,void 0,(function*(){if(!e.trackers||0===e.trackers.length)return;const t=this.eventModifierManager.applyEventModifiers(this.queuedToSuitEvent(e));if(!1===t)return;const n=e.trackers.map((e=>Fo(this,void 0,void 0,(function*(){const n=this.eventModifierManager.applyEventModifiersByTracker(t,e);return!1===n?null:this.trackerManager.sendToTracker(e,{event:n,pageContext:this.contextManager.getPageContext(),userContext:this.contextManager.getUserContext(),browserData:Go(this.window,this.config.cookiePrefix)})})))),r=(yield Promise.all(n)).filter((e=>null!==e));"function"==typeof e.sent&&r.length>0&&e.sent(r)}))}dispose(){this.eventQueue.onEnqueue=null,this.window.removeEventListener("pagehide",this.flushQueue),this.window.removeEventListener("visibilitychange",this.flushQueue)}}class Xo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pageContext={},this.userContext={},this.pageContext=Object.assign({},e),this.userContext=Object.assign({},t)}setPageContext(e){this.pageContext=Object.assign({},e)}getPageContext(){return Object.assign({},this.pageContext)}updatePageContext(e){this.pageContext=Object.assign(Object.assign({},this.pageContext),e)}clearPageContext(){this.pageContext={}}setUserContext(e){this.userContext=Object.assign({},e)}getUserContext(){return Object.assign({},this.userContext)}updateUserContext(e){this.userContext=Object.assign(Object.assign({},this.userContext),e)}clearUserContext(){this.userContext={}}getAllContext(){return{pageContext:this.getPageContext(),userContext:this.getUserContext()}}}class Yo{constructor(){}static setLevel(e){Yo.level=e}static logToNuxt(e){var t,n;if("undefined"!=typeof window&&"function"==typeof(null===(n=null===(t=window.$nuxt)||void 0===t?void 0:t.$logger)||void 0===n?void 0:n[e])){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];window.$nuxt.$logger[e](...o)}}static log(e){const t=console[e];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t(...r),Yo.logToNuxt(e,...r)}static debug(){if("debug"===Yo.level){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Yo.log("debug",...t)}}static info(){if("debug"===Yo.level||"info"===Yo.level){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Yo.log("info",...t)}}static warn(){if("error"!==Yo.level){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Yo.log("warn",...t)}}static error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Yo.log("error",...t)}static table(e,t){"debug"===Yo.level&&console.table(e,t)}}Yo.level="info";class Zo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["snowplow"];this.trackers={},this.defaultTrackers=e}registerTracker(e){this.trackers[e.name]=e,e.nameAliases.forEach((t=>{t in this.trackers||(this.trackers[t]=e)}))}getTracker(e){return this.trackers[e]}setDefaultTrackers(e){this.defaultTrackers=e}getDefaultTrackers(){return[...this.defaultTrackers]}sendToTrackers(e,t){return Fo(this,void 0,void 0,(function*(){const n=(t||this.defaultTrackers).map((t=>this.sendToTracker(t,e)));return Promise.allSettled(n)}))}sendToTracker(e,t){return Fo(this,void 0,void 0,(function*(){const n=this.getTracker(e);return n?n.send(t):(Yo.warn(`[SUIT]: no tracker registered for "${e}"`),Promise.resolve())}))}getRegisteredTrackers(){return Object.keys(this.trackers)}}class Ko{constructor(){this.globalModifiers=[],this.trackerSpecificModifiers={}}addEventModifier(e,t){return t&&t.tracker?(this.trackerSpecificModifiers[t.tracker]||(this.trackerSpecificModifiers[t.tracker]=[]),this.trackerSpecificModifiers[t.tracker].push(e)):this.globalModifiers.push(e),()=>this.removeEventModifier(e,t)}removeEventModifier(e,t){if(t&&t.tracker){const n=this.trackerSpecificModifiers[t.tracker];if(n){const r=n.indexOf(e);r>-1&&(n.splice(r,1),0===n.length&&delete this.trackerSpecificModifiers[t.tracker])}}else{const t=this.globalModifiers.indexOf(e);t>-1&&this.globalModifiers.splice(t,1)}}applyEventModifiers(e){return this.globalModifiers.reduce(((e,t)=>{if(!1===e)return!1;try{const n=t(e);return!1!==n&&(n||e)}catch(t){return Yo.error("[SUIT]: Error applying event modifier:",t),e}}),e)}applyEventModifiersByTracker(e,t){return(this.trackerSpecificModifiers[t]||[]).reduce(((e,n)=>{if(!1===e)return!1;try{const t=n(e);return!1!==t&&(t||e)}catch(n){return Yo.error(`[SUIT]: Error applying event modifier for tracker ${t}:`,n),e}}),e)}clearEventModifiers(){this.globalModifiers=[],this.trackerSpecificModifiers={}}getGlobalModifiersCount(){return this.globalModifiers.length}getTrackerSpecificModifiersCount(e){var t;return(null===(t=this.trackerSpecificModifiers[e])||void 0===t?void 0:t.length)||0}}function ei(e){return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{suit_v_tracker:"0.3.41"})})}const ti=4;function ni(e){const t=n("OptanonConsent"),r=Object.assign(...(t||"").split("&").map((e=>e.split("="))).map((e=>{let[t,n]=e;return{[t]:n}}))),{consentId:o,isIABGlobal:i,groups:a}=r,c=function(e){if("string"==typeof e)return Object.assign(...e.split(",").map((e=>e.split(":"))).map((e=>{let[t,n]=e;return{[t]:+n}})))}(a)||function(e){if("string"!=typeof e)return;const t=e.split(",").filter((e=>!!e)).map((e=>({[e]:1}))),n=Array.from(Array(ti)).map(((e,t)=>({[`C000${t+1}`]:0})));return Object.assign(...n,...t)}(window.OnetrustActiveGroups),s={ot:{isIABGlobal:i,consentId:o,ActiveConsentGroup:c}};return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),s)})}function ri(e){var t,n,r;const o=null===(n=null===(t=window.$nuxt)||void 0===t?void 0:t.context)||void 0===n?void 0:n.$rumLogger;return!o||(null===(r=e.data)||void 0===r?void 0:r.page_id)?e:Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{page_id:o.pageId})})}const oi={system:"system",dark:"dark",light:"air-3-0",high_contrast_light:"high-contrast-light"};function ii(e){const t=n("cookie_prefix")||"",r=function(e){const t=Object.entries(oi).find((t=>{let[n,r]=t;return r===e}));if(t)return t[0]}(n(`${t}uTheme`));return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{ui_theme:r||"light"})})}const ai={event:"string",location:"string",sublocation:"string",label:"string",data:"object"};function ci(e){return e.matched[e.matched.length-1].path.replace(/[:?]/g,"").replace(/[/-]/g,"_").replace(/^_+/g,"").replace(/_+$/g,"").slice(0,100)}class si{constructor(e){let{config:t}=e;var n,r;if(this.ologDeprecationLog=!1,!t.window)throw Yo.error("[SUIT]: window is not set"),new Error("[SUIT]: window is not set");this.config=t,this.eventQueue=new zo,this.contextManager=new Xo(t.pageContext,t.userContext),this.trackerManager=new Zo(t.defaultTrackers||["snowplow"]),this.eventModifierManager=new Ko,null===(n=t.trackers)||void 0===n||n.forEach((e=>{this.trackerManager.registerTracker(e)})),this.eventProcessor=new Jo(t.window,this.eventQueue,this.trackerManager,this.eventModifierManager,this.contextManager,{dedupeGeneralEvents:t.dedupeGeneralEvents||!1,cookiePrefix:t.cookiePrefix||""}),this.locationMapper="function"==typeof t.locationMapper?t.locationMapper:e=>e,this.setLocation(t.pageLocation),null===(r=t.autoTrackingEvents)||void 0===r||r.forEach((e=>{new e(t.window,this).setup()})),this.addDefaultEventModifiers(),this.eventProcessor.setupEventProcessing()}addDefaultEventModifiers(){[ei,ni,ri,ii,this.locationMapper].forEach((e=>this.addEventModifier(e,{tracker:"snowplow"})))}setLocation(e){this.contextManager.updatePageContext({location:e})}getLocation(){return this.contextManager.getPageContext().location}setPageContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contextManager.setPageContext(e)}getPageContext(){return this.contextManager.getPageContext()}updatePageContext(e){this.contextManager.updatePageContext(e)}setUserContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contextManager.setUserContext(e)}getUserContext(){return this.contextManager.getUserContext()}updateUserContext(e){this.contextManager.updateUserContext(e)}track(e){var t,n;return Fo(this,void 0,void 0,(function*(){let r=Object.assign({},e);r=function(e){let t=!1;const n=Object.keys(e).reduce(((n,r)=>{let o=r;return o.startsWith("tracking")&&(o=o.replace("tracking","").toLowerCase(),t=!0),n[o]=e[r],n}),{});return t&&Yo.warn("[SUIT]: deprecated legacy prefix stripped from event keys",e,n),n}(r),r.location=r.location||this.getLocation()||(null===(t=r.data)||void 0===t?void 0:t.location),r.sublocation=r.sublocation||(null===(n=r.data)||void 0===n?void 0:n.sublocation);const o=r.trackers||this.trackerManager.getDefaultTrackers();return delete r.trackers,r=function(e){const t=[],n=Object.keys(e).reduce(((n,r)=>(ai[r]?(n[r]=e[r],typeof e[r]!==ai[r]&&t.push({key:r,expected:ai[r],current:typeof e[r]})):t.push({key:r}),n)),{});if(t.length>0){const n=[];t.forEach((e=>{e.expected&&e.current&&e.expected!==e.current?n.push(`[SUIT]: unexpected key type for (${e.key}), expected ${e.expected} got ${e.current}`):n.push(`[SUIT]: unexpected key (${e.key}) removed from event`)})),Yo.warn(n.join("\n"),e)}return n}(r),r.trackers=o,r.trackers.includes("olog")&&!this.ologDeprecationLog&&(this.ologDeprecationLog=!0,Yo.warn("[SUIT]: olog is deprecated, remove it from the trackers array - CI-15888"),r.trackers=r.trackers.filter((e=>"olog"!==e))),this.eventQueue.enqueue(r)}))}pageView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fo(this,void 0,void 0,(function*(){yield this.track({event:"impression",sublocation:e.sublocation||"page",label:"general_pv",data:Object.assign({},e.data),trackers:e.trackers||["snowplow"]})}))}addEventModifier(e,t){return this.eventModifierManager.addEventModifier(e,t)}afterRouteChange(e){let{to:t,from:n}=e;if(null===n.name)return!1;const r={sublocation:ci(t)};return t.params&&0!==Object.keys(t.params).length&&(r.data={route_params:Object.assign({},t.params)}),t.query&&Object.keys(t.query).some((e=>void 0!==t.query[e]))&&(r.data=Object.assign(Object.assign({},r.data),{query_params:Object.assign({},t.query)})),this.pageView(r),!0}beforeRouteChange(e){return this.eventProcessor.flushQueue(),!0}registerTracker(e){this.trackerManager.registerTracker(e)}setDefaultTrackers(e){this.trackerManager.setDefaultTrackers(e)}getRegisteredTrackers(){return this.trackerManager.getRegisteredTrackers()}dispose(){this.eventProcessor.dispose()}setUserConfig(){Yo.warn("[SUIT]: setUserConfig method is deprecated")}}var ui={exports:{}},li="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(li){var fi=new Uint8Array(16);ui.exports=function(){return li(fi),fi}}else{var di=new Array(16);ui.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),di[t]=e>>>((3&t)<<3)&255;return di}}var vi=ui.exports;o(vi);for(var gi=[],pi=0;pi<256;++pi)gi[pi]=(pi+256).toString(16).substr(1);var hi=function(e,t){var n=t||0,r=gi;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};o(hi);var mi,yi,wi=vi,bi=hi,ki=0,xi=0;var Oi=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||mi,a=void 0!==e.clockseq?e.clockseq:yi;if(null==i||null==a){var c=wi();null==i&&(i=mi=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=yi=16383&(c[6]<<8|c[7]))}var s=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:xi+1,l=s-ki+(u-xi)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||s>ki)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ki=s,xi=u,yi=a;var f=(1e4*(268435455&(s+=122192928e5))+u)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var v=0;v<6;++v)o[r+v]=i[v];return t||bi(o)};o(Oi);var Si=vi,Ci=hi;var ji=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Si)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||Ci(o)};o(ji);var Ei=Oi,Ti=ji,Ai=Ti;Ai.v1=Ei,Ai.v4=Ti;var Pi=Ai;o(Pi);function Ii(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t,n,r,o,i,a,c=function(e){return decodeURIComponent(e.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},s=0,u=0,l="",f=[];if(!e)return e;e+="";do{t=(a=_i.indexOf(e.charAt(s++))<<18|_i.indexOf(e.charAt(s++))<<12|(o=_i.indexOf(e.charAt(s++)))<<6|(i=_i.indexOf(e.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,f[u++]=64===o?String.fromCharCode(t):64===i?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(s<e.length);return l=f.join(""),c(l.replace(/\0+$/,""))}(e.replace(/-/g,"+").replace(/_/g,"/"))}function Mi(e){if(!e)return e;var t=function(e){var t,n,r,o,i,a=0,c=0,s=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(i=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,s[c++]=_i.charAt(t)+_i.charAt(n)+_i.charAt(r)+_i.charAt(o)}while(a<e.length);var u=s.join(""),l=e.length%3;return(l?u.slice(0,l-3):u)+"===".slice(l||3)}(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Di(){var e,t={},n=[],r=[],o=[],i=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:i,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])},addJson:function(e,t,o){if(o&&Ui(o)){var i={keyIfEncoded:e,keyIfNotEncoded:t,json:o};r.push(i),n.push(i)}},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function Li(e){return function(t,n,r){for(var o=function(n,r,o){var i=JSON.stringify(n);e?t.add(r,Mi(i)):t.add(o,i)},i=function(n,r){var o=n||function(){var n=t.getPayload();if(e?n.cx:n.co)return JSON.parse(e?Ii(n.cx):n.co)}();return o?o.data=o.data.concat(r.data):o=r,o},a=void 0,c=0,s=n;c<s.length;c++){var u=s[c];"cx"===u.keyIfEncoded?a=i(a,u.json):o(u.json,u.keyIfEncoded,u.keyIfNotEncoded)}(n.length=0,r.length)&&(a=i(a,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:Ho([],r,!0)}),r.length=0);a&&o(a,"cx","co")}}function Ui(e){if(!$i(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function $i(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var Ni,Ri="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(Ni||(Ni={}));var Bi=function(e){void 0===e&&(e=Ni.warn);return{setLogLevel:function(t){e=Ni[t]?t:Ni.warn},warn:function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e>=Ni.warn&&"undefined"!=typeof console){var i=Ri+t;n?console.warn.apply(console,Ho([i+"\n",n],r,!1)):console.warn.apply(console,Ho([i],r,!1))}},error:function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e>=Ni.error&&"undefined"!=typeof console){var i=Ri+t+"\n";n?console.error.apply(console,Ho([i+"\n",n],r,!1)):console.error.apply(console,Ho([i],r,!1))}},debug:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e>=Ni.debug&&"undefined"!=typeof console&&console.debug.apply(console,Ho([Ri+t],n,!1))},info:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e>=Ni.info&&"undefined"!=typeof console&&console.info.apply(console,Ho([Ri+t],n,!1))}}}();function Vi(){var e=[],t=[],n=function(n){var r=function(e){for(var t=e.getJson(),n=0,r=t;n<r.length;n++){var o=r[n];if("ue_px"===o.keyIfEncoded&&"object"==typeof o.json.data){var i=o.json.data.schema;if("string"==typeof i)return i}}return""}(n),o=function(e){var t=e.getPayload().e;return"string"==typeof t?t:""}(n),i=[],a=ta(e,n,o,r);i.push.apply(i,a);var c=function(e,t,n,r){var o,i=ea(e),a=function(e){var o=function(e,t,n,r){if(Ji(e)){var o=e[0],i=!1;try{i=o({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){i=!1}if(!0===i)return ta(e[1],t,n,r)}else if(Xi(e)&&function(e,t){var n=0,r=0,o=e.accept;Array.isArray(o)?e.accept.some((function(e){return Zi(e,t)}))&&r++:"string"==typeof o&&Zi(o,t)&&r++;var i=e.reject;Array.isArray(i)?e.reject.some((function(e){return Zi(e,t)}))&&n++:"string"==typeof i&&Zi(i,t)&&n++;if(r>0&&0===n)return!0;if(0===r&&n>0)return!1;return!1}(e[0],r))return ta(e[1],t,n,r);return[]}(e,t,n,r);if(o&&0!==o.length)return o},c=i.map(a);return(o=[]).concat.apply(o,c.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,r);return i.push.apply(i,c),i};return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],o=[],i=0,a=n;i<a.length;i++){var c=a[i];Yi(c)?r.push(c):Wi(c)&&o.push(c)}e=e.concat(o),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){Yi(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):Wi(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},o=0,i=n;o<i.length;o++){r(i[o])}},getApplicableContexts:function(e){return n(e)}}}function qi(e){var t=e.split(".");return!!(t&&t.length>1)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(t)}function Fi(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==t&&qi(t[1]))return t.slice(1,6)}function Hi(e){var t=Fi(e);if(t){var n=t[0];return 5===t.length&&qi(n)}return!1}function zi(e){return function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}(e)?e.every((function(e){return Hi(e)})):"string"==typeof e&&Hi(e)}function Qi(e){var t=e;return!!(Ui(t)&&"schema"in t&&"data"in t)&&("string"==typeof t.schema&&"object"==typeof t.data)}function Gi(e){return"function"==typeof e&&e.length<=1}function Wi(e){return Gi(e)||Qi(e)}function Ji(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?Gi(e[0])&&e[1].every(Wi):Gi(e[0])&&Wi(e[1]))}function Xi(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=e,n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!zi(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!zi(t.reject))return!1;n+=1}return n>0&&n<=2}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(Wi):Wi(e[1])))}function Yi(e){return Ji(e)||Xi(e)}function Zi(e,t){if(!Hi(e))return!1;var n=Fi(e),r=function(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e);if(null!==t)return t.slice(1,6)}(t);if(n&&r){if(!function(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!Ki(n[o],r[o]))return!1;return!0}return!1}(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!Ki(n[o],r[o]))return!1;return!0}return!1}function Ki(e,t){return e&&t&&"*"===e||e===t}function ea(e){return Array.isArray(e)?e:Array.of(e)}function ta(e,t,n,r){var o,i=ea(e).map((function(e){var o=function(e,t,n,r){if(Qi(e))return[e];if(Gi(e)){var o=function(e,t,n,r){var o=void 0;try{return o=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(o)&&o.every(Qi)||Qi(o)?o:void 0}catch(e){o=void 0}return o}(e,t,n,r);if(Qi(o))return[o];if(Array.isArray(o))return o}return}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,i.filter((function(e){return null!=e&&e.filter(Boolean)})))}function na(e){void 0===e&&(e={});var t=e.base64,n=e.corePlugins,r=e.callback,o=null!=n?n:[],i=function(e,t,n){var r=function(e){return{addPluginContexts:function(t){var n=t?Ho([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){Bi.error("Error adding plugin contexts",e)}})),n}}}(t),o=Vi(),i=e,a={};function c(e,t){a[e]=t}var s={track:function(e,c,s){e.withJsonProcessor(Li(i)),e.add("eid",Pi.v4()),e.addDict(a);var u=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(s);e.add(u.type,u.value.toString());var l=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(function(e,t){var n=o.getApplicableContexts(e),r=[];return t&&t.length&&r.push.apply(r,t),n&&n.length&&r.push.apply(r,n),r}(e,r.addPluginContexts(c)));void 0!==l&&e.addJson("cx","co",l),t.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){Bi.error("Plugin beforeTrack",e)}})),"function"==typeof n&&n(e);var f=e.build();return t.forEach((function(e){try{e.afterTrack&&e.afterTrack(f)}catch(e){Bi.error("Plugin afterTrack",e)}})),f},addPayloadPair:c,getBase64Encoding:function(){return i},setBase64Encoding:function(e){i=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])},resetPayloadPairs:function(e){a=$i(e)?e:{}},setTrackerVersion:function(e){c("tv",e)},setTrackerNamespace:function(e){c("tna",e)},setAppId:function(e){c("aid",e)},setPlatform:function(e){c("p",e)},setUserId:function(e){c("uid",e)},setScreenResolution:function(e,t){c("res",e+"x"+t)},setViewport:function(e,t){c("vp",e+"x"+t)},setColorDepth:function(e){c("cd",e)},setTimezone:function(e){c("tz",e)},setLang:function(e){c("lang",e)},setIpAddress:function(e){c("ip",e)},setUseragent:function(e){c("ua",e)},addGlobalContexts:function(e){o.addGlobalContexts(e)},clearGlobalContexts:function(){o.clearGlobalContexts()},removeGlobalContexts:function(e){o.removeGlobalContexts(e)}};return s}(null==t||t,o,r),a=Vo(Vo({},i),{addPlugin:function(e){var t,n,r=e.plugin;o.push(r),null===(t=r.logger)||void 0===t||t.call(r,Bi),null===(n=r.activateCorePlugin)||void 0===n||n.call(r,a)}});return null==o||o.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,Bi),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,a)})),a}var ra,oa,ia={exports:{}},aa={exports:{}};ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oa={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&oa.rotl(e,8)|4278255360&oa.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=oa.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(ra.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((ra.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|ra.indexOf(e.charAt(n))>>>6-2*r);return t}},aa.exports=oa;var ca=aa.exports;o(ca);var sa={utf8:{stringToBytes:function(e){return sa.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(sa.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},ua=sa;o(ua),function(){var e=ca,t=ua.utf8,n=ua.bin,r=function(r,o){var i=e.wordsToBytes(function(n){n.constructor==String?n=t.stringToBytes(n):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());var r=e.bytesToWords(n),o=8*n.length,i=[],a=1732584193,c=-271733879,s=-1732584194,u=271733878,l=-1009589776;r[o>>5]|=128<<24-o%32,r[15+(o+64>>>9<<4)]=o;for(var f=0;f<r.length;f+=16){for(var d=a,v=c,g=s,p=u,h=l,m=0;m<80;m++){if(m<16)i[m]=r[f+m];else{var y=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=y<<1|y>>>31}var w=(a<<5|a>>>27)+l+(i[m]>>>0)+(m<20?1518500249+(c&s|~c&u):m<40?1859775393+(c^s^u):m<60?(c&s|c&u|s&u)-1894007588:(c^s^u)-899497514);l=u,u=s,s=c<<30|c>>>2,c=a,a=w}a+=d,c+=v,s+=g,u+=p,l+=h}return[a,c,s,u,l]}(r));return o&&o.asBytes?i:o&&o.asString?n.bytesToString(i):e.bytesToHex(i)};r._blocksize=16,r._digestsize=20,ia.exports=r}();var la=o(ia.exports);function fa(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch(e){return!1}}function da(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function va(e){try{return window.sessionStorage.getItem(e)}catch(e){return}}function ga(e){return!(!e||"string"!=typeof e.valueOf())}function pa(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function ha(e){if(!ga(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function ma(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function ya(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function wa(e){var t=window,n=ka("referrer",t.location.href)||ka("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function ba(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function ka(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function xa(e,t,n,r){Sa(e,"",-1,"/",t,n,r)}function Oa(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function Sa(e,t,n,r,o,i,a){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Ca(){var e="modernizr";if(!function(){try{return!!window.localStorage}catch(e){return!0}}())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}var ja="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",Ea="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",Ta="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",Aa="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function Pa(e,t,n,r,o,i,a,c,s,u,l,f,d,v,g,p,h,m,y,w){void 0===m&&(m=!0);var b,k,x=!1,O=[],S=!1,C=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,j=Boolean(C&&window.navigator&&window.navigator.sendBeacon&&!(function(e,t){var n=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!n||!n.length)&&parseInt(n[0])<=e}(13,k=window.navigator.userAgent)||function(e,t,n){var r=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!r||!r.length)&&(parseInt(r[0])<=e||parseInt(r[0])===e&&parseInt(r[1])<=t)}(10,15,k)&&function(e){return e.match("Version/.* Safari/")&&!function(e){return e.match("Chrom(e|ium)")}(e)}(k))),E=j&&C,T="get"===r,A=Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),P=!T&&A&&("post"===r||C),I=P?o:"/i",M="snowplowOutQueue_".concat(e,"_").concat(P?"post2":"get");if(C&&(d={}),i=n&&Ca()&&P&&i||1,n)try{var _=window.localStorage.getItem(M);O=_?JSON.parse(_):[]}catch(e){}function D(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r.toString(),e}),{});return{evt:t,bytes:L(JSON.stringify(t))}}function L(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}Array.isArray(O)||(O=[]),t.outQueues.push(O),A&&i>1&&t.bufferFlushers.push((function(e){x||B(e)}));var U=function(e){return"object"==typeof e[0]&&"evt"in e[0]};function $(e,t){var n=q(t,!0,!1),r=H([e.evt]);n.onreadystatechange=function(){4===n.readyState&&(V(n.status)?null==y||y(r):null==w||w({status:n.status,message:n.statusText,events:r,willRetry:!1}))},n.send(F(r))}function N(e){for(var t=0;t<e;t++)O.shift();n&&fa(M,JSON.stringify(O.slice(0,u)))}function R(e,t,n){e.onreadystatechange=function(){if(4===e.readyState)if(clearTimeout(r),V(e.status))N(t),null==y||y(n),B();else{var o=function(e){if(V(e))return!1;if(!m)return!1;if(g.includes(e))return!0;return!p.includes(e)}(e.status);o||(Bi.error("Status ".concat(e.status,", will not retry.")),N(t)),null==w||w({status:e.status,message:e.statusText,events:n,willRetry:o}),x=!1}};var r=setTimeout((function(){e.abort(),m||N(t),null==w||w({status:0,message:"timeout",events:n,willRetry:m}),x=!1}),l)}function B(e){for(void 0===e&&(e=!1);O.length&&"string"!=typeof O[0]&&"object"!=typeof O[0];)O.shift();if(O.length){if(!ga(b))throw"No collector configured";if(x=!0,h&&!S){var t=q(h,!1,e);return S=!0,t.timeout=l,t.onreadystatechange=function(){4===t.readyState&&B()},void t.send()}if(A){var r=void 0,o=void 0,i=void 0;if(U(O)?(o=q(r=b,!0,e),i=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=a);)t+=1;return t}(O)):(o=q(r=z(O[0]),!1,e),i=1),U(O)){var c=O.slice(0,i);if(c.length>0){var s=!1,d=c.map((function(e){return e.evt}));if(E){var v=new Blob([F(H(d))],{type:"application/json"});try{s=navigator.sendBeacon(r,v)}catch(e){s=!1}}if(!0===s)N(i),null==y||y(c),B();else{var g=H(d);R(o,i,g),o.send(F(g))}}}else R(o,i,[r]),o.send()}else if(f||U(O))x=!1;else{var p=new Image(1,1),m=!0;p.onload=function(){m&&(m=!1,O.shift(),n&&fa(M,JSON.stringify(O.slice(0,u))),B())},p.onerror=function(){m&&(m=!1,x=!1)},p.src=z(O[0]),setTimeout((function(){m&&x&&(m=!1,B())}),l)}}else x=!1}function V(e){return e>=200&&e<300}function q(e,t,n){var r=new XMLHttpRequest;for(var o in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=v,f&&r.setRequestHeader("SP-Anonymous","*"),d)Object.prototype.hasOwnProperty.call(d,o)&&r.setRequestHeader(o,d[o]);return r}function F(e){return JSON.stringify({schema:Aa,data:e})}function H(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function z(e){return s?b+e.replace("?","?stm="+(new Date).getTime()+"&"):b+e}return{enqueueRequest:function(e,t){b=t+I;var r=function(e,t){return Bi.warn("Event ("+e+"B) too big, max is "+t)};if(P){if((f=D(e)).bytes>=a)return r(f.bytes,a),void $(f,b);O.push(f)}else{var s=function(e){var t="?",n={co:!0,cx:!0},r=!0;for(var o in e)e.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(r?r=!1:t+="&",t+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var i in n)e.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t+="&"+i+"="+encodeURIComponent(e[i]));return t}(e);if(c>0){var l=L(z(s));if(l>=c){var f;if(r(l,c),A)$(f=D(e),t+o);return}}O.push(s)}var d=!1;n&&(d=fa(M,JSON.stringify(O.slice(0,u)))),x||d&&!(O.length>=i)||B()},executeQueue:function(){x||B()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){f=e},setCollectorUrl:function(e){b=e+I},setBufferSize:function(e){i=e}}}function Ia(e,t,n){var r,o,i,a;return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=ma(t=null!==(o=t,i="u",r=(a=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(o))&&(null==a?void 0:a.length)>1?ka(i,a[1]):null)&&void 0!==r?r:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=ma(t=document.links[0].href)),[e,t,n]}var Ma=0,_a=1,Da=2,La=3,Ua=4,$a=5,Na=6,Ra=7,Ba=8,Va=9,qa=10;function Fa(e,t){void 0===t&&(t={memorizedVisitCount:1});var n=t.memorizedVisitCount;Wa(e)?(e[Ra]=e[Na],e[$a]=e[Ua],e[La]++):e[La]=n;var r=Pi.v4();return e[Na]=r,e[qa]=0,e[Ba]="",e[Va]=void 0,r}function Ha(e){e[Ua]=Math.round((new Date).getTime()/1e3)}function za(e,t,n){var r=e[Va];return{userId:n?"00000000-0000-0000-0000-000000000000":e[_a],sessionId:e[Na],eventIndex:e[qa],sessionIndex:e[La],previousSessionId:n?null:e[Ra]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[Ba]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function Qa(e){return e[Na]}function Ga(e){return e[La]}function Wa(e){return"0"===e[Ma]}var Ja="x";function Xa(){return{viewport:Za(Ya()),documentSize:Za((e=document.documentElement,t=document.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,r=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),o=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n),isNaN(r)||isNaN(o)?"":r+Ja+o)),resolution:Za(screen.width+Ja+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency};var e,t,n,r,o}function Ya(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return e>=0&&t>=0?e+Ja+t:null}function Za(e){return e&&e.split(Ja).map((function(e){return Math.floor(Number(e))})).join(Ja)}function Ka(e,t,n,r,o,i){void 0===i&&(i={});var a=[],c=function(e,t,n,r,o,i){var c,s,u,l,f,d,v,g,p,h,m,y,w,b,k,x,O,S,C,j,E,T,A,P,I,M,_,D;i.eventMethod=null!==(c=i.eventMethod)&&void 0!==c?c:"post";var L,U,$=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},N=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},R=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)},B=function(e){return!!e.anonymousTracking},V=null!==(u=null===(s=null==i?void 0:i.contexts)||void 0===s?void 0:s.browser)&&void 0!==u&&u,q=null===(f=null===(l=null==i?void 0:i.contexts)||void 0===l?void 0:l.webPage)||void 0===f||f;a.push((L=function(e){return Te?null:e},U=function(e){return je?e:L(e)},{beforeTrack:function(e){var t=Xe("ses"),n=ut(),r=0===function(e){return e[qa]}(n);if(oe=!!W&&!!Sa(W),Oe||oe)at();else{Wa(n)?(ne=t||"none"==Ae?Qa(n):Fa(n),Ie=Ga(n)):(new Date).getTime()-Pe>1e3*Ce&&(Ie++,ne=Fa(n,{memorizedVisitCount:Ie})),Ha(n),function(e,t){if(0===e[qa]){var n=t.build();e[Ba]=n.eid;var r=n.dtm||n.ttm;e[Va]=r?parseInt(r):void 0}}(n,e),function(e){e[qa]+=1}(n);var o=Xa(),i=o.viewport,a=o.documentSize;e.add("vp",i),e.add("ds",a),e.add("vid",U(Ie)),e.add("sid",U(ne)),e.add("duid",L(function(e){return e[_a]}(n))),e.add("uid",L(re)),He(),e.add("refr",Ge(F||le)),e.add("url",Ge(H||ue));var c=za(n,Ae,Te);if(!Ue||Te&&!je||function(e,t){var n={schema:Ta,data:t};e.addContextEntity(n)}(e,c),"none"!=Ae){ot(n);var s=rt();t&&!r||!s||!$e||Ne||($e(c),Ne=!1)}Pe=(new Date).getTime()}}})),q&&a.push({contexts:function(){return[{schema:ja,data:{id:dt()}}]}}),V&&a.push({contexts:function(){return[{schema:Ea,data:Vo(Vo({},Xa()),{tabId:vt()})}]}}),a.push.apply(a,null!==(d=i.plugins)&&void 0!==d?d:[]);var F,H,z,Q,G,W,J,X,Y,Z,K,ee,te,ne,re,oe,ie=na({base64:i.encodeBase64,corePlugins:a,callback:function(e){Oe||oe||Me.enqueueRequest(e.build(),de)}}),ae=document.characterSet||document.charset,ce=Ia(window.location.hostname,window.location.href,wa()),se=ya(ce[0]),ue=ce[1],le=ce[2],fe=null!==(v=i.platform)&&void 0!==v?v:"web",de=lt(r),ve=null!==(g=i.postPath)&&void 0!==g?g:"/com.snowplowanalytics.snowplow/tp2",ge=null!==(p=i.appId)&&void 0!==p?p:"",pe=document.title,he=null===(h=i.resetActivityTrackingOnPageView)||void 0===h||h,me=null!==(m=i.cookieName)&&void 0!==m?m:"_sp_",ye=null!==(y=i.cookieDomain)&&void 0!==y?y:void 0,we="/",be=null!==(w=i.cookieSameSite)&&void 0!==w?w:"None",ke=null===(b=i.cookieSecure)||void 0===b||b,xe=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Oe=void 0!==i.respectDoNotTrack&&(i.respectDoNotTrack&&("yes"===xe||"1"===xe)),Se=null!==(k=i.cookieLifetime)&&void 0!==k?k:63072e3,Ce=null!==(x=i.sessionCookieTimeout)&&void 0!==x?x:1800,je=N(i),Ee=R(i),Te=B(i),Ae=$(i),Pe=(new Date).getTime(),Ie=1,Me=Pa(e,o,"localStorage"==Ae||"cookieAndLocalStorage"==Ae,i.eventMethod,ve,null!==(O=i.bufferSize)&&void 0!==O?O:1,null!==(S=i.maxPostBytes)&&void 0!==S?S:4e4,null!==(C=i.maxGetBytes)&&void 0!==C?C:0,null===(j=i.useStm)||void 0===j||j,null!==(E=i.maxLocalStorageQueueSize)&&void 0!==E?E:1e3,null!==(T=i.connectionTimeout)&&void 0!==T?T:5e3,Ee,null!==(A=i.customHeaders)&&void 0!==A?A:{},null===(P=i.withCredentials)||void 0===P||P,null!==(I=i.retryStatusCodes)&&void 0!==I?I:[],(null!==(M=i.dontRetryStatusCodes)&&void 0!==M?M:[]).concat([400,401,403,410,422]),i.idService,i.retryFailedRequests),_e=!1,De=!1,Le={enabled:!1,installed:!1,configurations:{}},Ue=null!==(D=null===(_=i.contexts)||void 0===_?void 0:_.session)&&void 0!==D&&D,$e=i.onSessionUpdateCallback,Ne=!1;i.hasOwnProperty("discoverRootDomain")&&i.discoverRootDomain&&(ye=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=n.split("."),c=a.length-2;c>=0;c--){var s=a.slice(c).join(".");if(Sa(o,i,0,"/",s,e,t),Sa(o)===i){xa(o,s,e,t);for(var u=Oa(r),l=0;l<u.length;l++)xa(u[l],s,e,t);return s}}return n}(be,ke));var Re=Xa(),Be=Re.browserLanguage,Ve=Re.resolution,qe=Re.colorDepth,Fe=Re.cookiesEnabled;function He(){(ce=Ia(window.location.hostname,window.location.href,wa()))[1]!==ue&&(le=wa(ue)),se=ya(ce[0]),ue=ce[1]}function ze(e){var t=(new Date).getTime(),n=e.currentTarget;(null==n?void 0:n.href)&&(n.href=function(e,t,n){var r=t+"="+n,o=e.split("#"),i=o[0].split("?"),a=i.shift(),c=i.join("?");if(c){for(var s=!0,u=c.split("&"),l=0;l<u.length;l++)if(u[l].substr(0,t.length+1)===t+"="){s=!1,u[l]=r,c=u.join("&");break}s&&(c=r+"&"+c)}else c=r;return o[0]=a+"?"+c,o.join("#")}(n.href,"_sp",te+"."+t))}function Qe(e){for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(ba(n,"click",ze,!0),ba(n,"mousedown",ze,!0),n.spDecorationEnabled=!0)}}function Ge(e){var t;return Q&&(t=new RegExp("#.*"),e=e.replace(t,"")),G&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function We(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function Je(e){return me+e+"."+ee}function Xe(e){var t=Je(e);return"localStorage"==Ae?function(e){try{var t=window.localStorage,n=t.getItem(e+".expires");return null===n||+n>Date.now()?t.getItem(e):(t.removeItem(e),void t.removeItem(e+".expires"))}catch(e){return}}(t):"cookie"==Ae||"cookieAndLocalStorage"==Ae?Sa(t):void 0}function Ye(){He(),ee=la((ye||se)+(we||"/")).slice(0,4)}function Ze(){var e=new Date;J=e.getTime()}function Ke(){!function(){var e=et(),t=e[0];t<X?X=t:t>Y&&(Y=t);var n=e[1];n<Z?Z=n:n>K&&(K=n)}(),Ze()}function et(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function tt(){var e=et(),t=e[0];X=t,Y=t;var n=e[1];Z=n,K=n}function nt(e){return Math.round(e)}function rt(){return it(Je("ses"),"*",Ce)}function ot(e){var t=Je("id"),n=function(e){return e.shift(),e.join(".")}(e);return it(t,n,Se)}function it(e,t,n){return!(Te&&!je)&&("localStorage"==Ae?fa(e,t,n):("cookie"==Ae||"cookieAndLocalStorage"==Ae)&&(Sa(e,t,n,we,ye,be,ke),-1!==document.cookie.indexOf("".concat(e,"="))))}function at(e){var t=Je("id"),n=Je("ses");da(t),da(n),xa(t,ye,be,ke),xa(n,ye,be,ke),(null==e?void 0:e.preserveSession)||(ne=Pi.v4(),Ie=1),(null==e?void 0:e.preserveUser)||(te=Te?"":Pi.v4(),re=null)}function ct(e){e&&e.stateStorageStrategy&&(i.stateStorageStrategy=e.stateStorageStrategy,Ae=$(i)),Te=B(i),je=N(i),Ee=R(i),Me.setUseLocalStorage("localStorage"==Ae||"cookieAndLocalStorage"==Ae),Me.setAnonymousTracking(Ee)}function st(){if(!Te||je){var e="none"!=Ae&&!!Xe("ses"),t=ut();te=function(e,t){var n;return e[_a]?n=e[_a]:t?(n="",e[_a]=n):(n=Pi.v4(),e[_a]=n),n}(t,Te),ne=e?Qa(t):Fa(t),Ie=Ga(t),"none"!=Ae&&(rt(),Ha(t),ot(t))}}function ut(){return"none"==Ae?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var o,i=new Date,a=Math.round(i.getTime()/1e3);e?(o=e.split(".")).unshift("0"):o=["1",t,a,r,a,"",n],o[Na]&&"undefined"!==o[Na]||(o[Na]=Pi.v4()),o[Ra]&&"undefined"!==o[Ra]||(o[Ra]=""),o[Ba]&&"undefined"!==o[Ba]||(o[Ba]=""),o[Va]&&"undefined"!==o[Va]||(o[Va]=""),o[qa]&&"undefined"!==o[qa]||(o[qa]=0);var c=function(e,t){var n=parseInt(e);return isNaN(n)?t:n},s=function(e){return e?c(e,void 0):void 0};return[o[Ma],o[_a],c(o[Da],a),c(o[La],r),c(o[Ua],a),s(o[$a]),o[Na],o[Ra],o[Ba],s(o[Va]),c(o[qa],0)]}(Xe("id")||void 0,te,ne,Ie)}function lt(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function ft(){_e&&null!=o.pageViewId||(o.pageViewId=Pi.v4())}function dt(){return null==o.pageViewId&&(o.pageViewId=Pi.v4()),o.pageViewId}function vt(){if("none"===Ae||Te||!q)return null;var e="_sp_tab_id",t=va(e);return t||(!function(e,t){try{return window.sessionStorage.setItem(e,t),!0}catch(e){return!1}}(e,Pi.v4()),t=va(e)),t||null}function gt(e,t){return(e||[]).concat(t?t():[])}function pt(e){var t=e.title,n=e.context,r=e.timestamp,o=e.contextCallback;He(),De&&ft(),De=!0,pe=document.title;var i=ha((z=t)||pe);ie.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=Di();return o.add("e","pv"),o.add("url",t),o.add("page",n),o.add("refr",r),o}({pageUrl:Ge(H||ue),pageTitle:i,referrer:Ge(F||le)}),gt(n,o),r);var a=new Date,c=!1;if(Le.enabled&&!Le.installed){Le.installed=!0,c=!0;var s={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),s.hasSupport=e}}};s.update();var u="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(s,"hasSupport")?ba(document,u,Ze,{passive:!0}):ba(document,u,Ze),tt();var l=function(e,t){return void 0===t&&(t=Ze),function(e){return ba(document,e,t)}};["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach(l(document)),["resize","focus","blur"].forEach(l(window)),l(window,Ke)("scroll")}if(Le.enabled&&(he||c)){J=a.getTime();var f=void 0;for(f in Le.configurations){var d=Le.configurations[f];d&&(window.clearInterval(d.activityInterval),ht(d,n,o))}}}function ht(e,t,n){var r=function(e,t){He(),e({context:t,pageViewId:dt(),minXOffset:X,minYOffset:Z,maxXOffset:Y,maxYOffset:K}),tt()},o=function(){var o=new Date;J+e.configHeartBeatTimer>o.getTime()&&r(e.callback,gt(t,n))};0===e.configMinimumVisitLength?e.activityInterval=window.setInterval(o,e.configHeartBeatTimer):e.activityInterval=window.setTimeout((function(){var i=new Date;J+e.configMinimumVisitLength>i.getTime()&&r(e.callback,gt(t,n)),e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength)}function mt(e){var t=e.minimumVisitLength,n=e.heartbeatDelay,r=e.callback;if(pa(t)&&pa(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:r};Bi.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function yt(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,i=e.maxYOffset,a=document.title;a!==pe&&(pe=a,z=void 0),ie.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=e.minXOffset,i=e.maxXOffset,a=e.minYOffset,c=e.maxYOffset,s=Di();return s.add("e","pp"),s.add("url",t),s.add("page",n),s.add("refr",r),o&&!isNaN(Number(o))&&s.add("pp_mix",o.toString()),i&&!isNaN(Number(i))&&s.add("pp_max",i.toString()),a&&!isNaN(Number(a))&&s.add("pp_miy",a.toString()),c&&!isNaN(Number(c))&&s.add("pp_may",c.toString()),s}({pageUrl:Ge(H||ue),pageTitle:ha(z||pe),referrer:Ge(F||le),minXOffset:nt(n),maxXOffset:nt(o),minYOffset:nt(r),maxYOffset:nt(i)}),t)}function wt(e){var t=Le.configurations[e];0===(null==t?void 0:t.configMinimumVisitLength)?window.clearTimeout(null==t?void 0:t.activityInterval):window.clearInterval(null==t?void 0:t.activityInterval),Le.configurations[e]=void 0}ie.setTrackerVersion(n),ie.setTrackerNamespace(t),ie.setAppId(ge),ie.setPlatform(fe),ie.addPayloadPair("cookie",Fe?"1":"0"),ie.addPayloadPair("cs",ae),ie.addPayloadPair("lang",Be),ie.addPayloadPair("res",Ve),ie.addPayloadPair("cd",qe),Ye(),st(),i.crossDomainLinker&&Qe(i.crossDomainLinker);var bt={getDomainSessionIndex:function(){return Ie},getPageViewId:dt,getTabId:vt,newSession:function(){var e=ut();if(Wa(e)?(ne="none"!=Ae?Fa(e):Qa(e),Ie=Ga(e)):(Ie++,ne=Fa(e,{memorizedVisitCount:Ie})),Ha(e),"none"!=Ae){var t=za(e,Ae,Te);ot(e),rt()&&$e&&(Ne=!0,$e(t))}Pe=(new Date).getTime()},getCookieName:function(e){return Je(e)},getUserId:function(){return re},getDomainUserId:function(){return ut()[1]},getDomainUserInfo:function(){return ut()},setReferrerUrl:function(e){F=e},setCustomUrl:function(e){He(),H=function(e,t){var n;return We(t)?t:"/"===t.slice(0,1)?We(e)+"://"+ma(e)+t:((n=(e=Ge(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(ue,e)},setDocumentTitle:function(e){pe=document.title,z=e},discardHashTag:function(e){Q=e},discardBrace:function(e){G=e},setCookiePath:function(e){we=e,Ye()},setVisitorCookieTimeout:function(e){Se=e},crossDomainLinker:function(e){Qe(e)},enableActivityTracking:function(e){Le.configurations.pagePing||(Le.enabled=!0,Le.configurations.pagePing=mt(Vo(Vo({},e),{callback:yt})))},enableActivityTrackingCallback:function(e){Le.configurations.callback||(Le.enabled=!0,Le.configurations.callback=mt(e))},disableActivityTracking:function(){wt("pagePing")},disableActivityTrackingCallback:function(){wt("callback")},updatePageActivity:function(){Ze()},setOptOutCookie:function(e){W=e},setUserId:function(e){re=e},setUserIdFromLocation:function(e){He(),re=ka(e,ue)},setUserIdFromReferrer:function(e){He(),re=ka(e,le)},setUserIdFromCookie:function(e){re=Sa(e)},setCollectorUrl:function(e){de=lt(e),Me.setCollectorUrl(de)},setBufferSize:function(e){Me.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Me.executeQueue(),e.newBufferSize&&Me.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),pt(e)},preservePageViewId:function(){_e=!0},disableAnonymousTracking:function(e){i.anonymousTracking=!1,ct(e),st(),Me.executeQueue()},enableAnonymousTracking:function(e){var t;i.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,ct(e),je||ft()},clearUserData:at};return Vo(Vo({},bt),{id:e,namespace:t,core:ie,sharedState:o})}(e,t,n,r,o,i),s=Vo(Vo({},c),{addPlugin:function(e){var t,n;s.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,s)}});return a.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,s)})),s}var ec={};function tc(e,t){try{(n=null!=e?e:Object.keys(ec),function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.hasOwnProperty(i)?n.push(t[i]):Bi.warn(i+" not configured")}return n}(n,ec)).forEach(t)}catch(e){Bi.error("Function failed",e)}var n}var nc=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};function rc(e,t){tc(t,(function(t){t.core.track(function(e){var t=e.event,n=t.schema,r=t.data,o=Di(),i={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",i),o}({event:e.event}),e.context,e.timestamp)}))}var oc,ic="undefined"!=typeof window?function(){var e=new nc,t=document,n=window;function r(){var t;if(!e.hasLoaded)for(e.hasLoaded=!0,t=0;t<e.registeredOnLoadHandlers.length;t++)e.registeredOnLoadHandlers[t]();return!0}return t.visibilityState&&ba(t,"visibilitychange",(function(){"hidden"==t.visibilityState&&e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),ba(n,"beforeunload",(function(){e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(t.addEventListener?t.addEventListener("DOMContentLoaded",(function e(){t.removeEventListener("DOMContentLoaded",e,!1),r()})):t.attachEvent&&t.attachEvent("onreadystatechange",(function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),r())})),ba(n,"load",r,!1)):r(),e}():void 0;function ac(e,t,n){return void 0===n&&(n={}),ic?function(e,t,n,r,o,i){return ec.hasOwnProperty(e)?null:(ec[e]=Ka(e,t,n,r,o,i),ec[e])}(e,e,"js-".concat("3.18.0"),t,ic,n):void 0}function cc(e){var t=function(){var t,n,r,o,i=navigator.userAgentData;i&&(t={isMobile:i.mobile,brands:(o=i.brands,r=Array.isArray(o)?o:"[object Object]"===Object.prototype.toString.call(o)?Object.keys(o).map((function(e){return o[e]})):[],r.map((function(e){return{brand:e.brand,version:e.version}})))},e&&i.getHighEntropyValues&&i.getHighEntropyValues(["platform","platformVersion","architecture","model","uaFullVersion"]).then((function(e){t.architecture=e.architecture,t.model=e.model,t.platform=e.platform,t.uaFullVersion=e.uaFullVersion,t.platformVersion=e.platformVersion})),(n=t)&&"boolean"==typeof n.isMobile&&Array.isArray(n.brands)&&0!==n.brands.length&&!n.brands.some((function(e){return"string"!=typeof e.brand||"string"!=typeof e.version}))&&(oc=t))};return{activateBrowserPlugin:function(){oc||t()},contexts:function(){return oc?[{schema:"iglu:org.ietf/http_client_hints/jsonschema/1-0-0",data:oc}]:[]}}}class sc{constructor(e){let{name:t,nameAliases:n}=e;if(this.nameAliases=[],!t)throw new Error("SUIT2: tracker must provide name to constructor");this.name=t,this.nameAliases=n||[]}send(e){throw new Error("[SUIT]: tracker must implement send")}}const uc="up_shasta_referrer";function lc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;try{const r=null===(n=e.sessionStorage)||void 0===n?void 0:n.getItem(uc);if(!r)return null;t&&function(e){try{e.sessionStorage.removeItem(uc)}catch(e){}}(e);const{expires:o,url:i}=JSON.parse(r);return Date.parse(o)-(new Date).getTime()<0?null:""===i?"":function(e){try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){}return!1}(i)?i:null}catch(e){console.error("Could not parse session referrer",e)}return null}const fc={appId:"suit",encodeBase64:!1,postPath:"/shitake/suit",discoverRootDomain:!0,cookieName:"_upw_"};class dc extends sc{constructor(e){let{window:t,env:n,pushToDataLayer:r}=e;if(super({name:"snowplow"}),this.referrerOverride=!1,!n)throw Yo.error("[SUIT] must provide env to snowplowTracker constructor"),new Error("[SUIT]: must provide env to snowplowTracker constructor");this.env=n,this.pushToDataLayer=!!r,this.window=t,this.copySnowplowCookie("_sp_id","_upw_id"),this.copySnowplowCookie("_sp_ses","_upw_ses");const o=ac("upwork",function(e){switch(e){case"prod":return"https://www.upwork.com";case"stage":case"staging":case"dev":case"local":return"https://stage.upwork.com";default:return null}}(this.env),Object.assign(Object.assign({},fc),{contexts:{browser:!0},plugins:[cc(!0)]})),i=lc(t);null!==i&&(this.referrerOverride=!0,o.setReferrerUrl(i))}getBrowserData(){return{language:this.window.navigator.language}}validateEvent(e){const t=["event","location","sublocation","label"].reduce(((t,n)=>(e[n]||t.push(n),t)),[]);return!(t.length>0)||(Yo.error(`[SUIT]: snowplow tracker encountered invalid value for required key (${t.join(", ")})`,e),!1)}send(e){let{event:t,pageContext:n,userContext:r,browserData:o}=e;if(!this.validateEvent(t))return!1;const i=Object.assign({},t);delete i.data,delete i.label;const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),r),o),this.getBrowserData()),i),t.data),this.referrerOverride?{referrer_override:!0}:{}),{event_label:t.label}),{dataLayer:c}=window;return c&&this.pushToDataLayer&&c.push({event_payload:void 0},{event:"suit",suitVersion:"2",event_payload:a}),rc({event:{schema:"iglu:com.upwork/suit2_event/jsonschema/3-0-0",data:a}})}copySnowplowCookie(e,r){const o=`${e}.2a16`,i=`${r}.5831`;if(n(i))return;const a=n(o);a&&function(e,n,r,o){void 0===r&&(r=encodeURIComponent),"object"==typeof r&&null!==r&&(o=r,r=encodeURIComponent);var i=t(o||{}),a="function"==typeof r?r(n):n,c="".concat(e,"=").concat(a).concat(i);document.cookie=c}(i,a,{expires:"1Y",domain:".upwork.com",path:"/",samesite:"None",secure:!0})}}function vc(e){return e.toLowerCase()}var gc=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],pc=/[^A-Z0-9]+/gi;function hc(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function mc(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?gc:n,o=t.stripRegexp,i=void 0===o?pc:o,a=t.transform,c=void 0===a?vc:a,s=t.delimiter,u=void 0===s?" ":s,l=hc(hc(e,r,"$1\0$2"),i,"\0"),f=0,d=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(f,d).split("\0").map(c).join(u)}(e,Vo({delimiter:"."},t))}function yc(e){return wc.test(e)}const wc=/^-?[0-9]+$/;const bc=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;let kc=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function xc(e){if(function(e,t){const n=parseFloat(e),r=String(n),o=Oc(e),i=Oc(r);if(o===i)return!0;if(!0===t?.approx){const t=14;if(!yc(e)&&i.length>=t&&o.startsWith(i.substring(0,t)))return!0}return!1}(e,{approx:!1}))return;if(yc(e))return kc.truncate_integer;const t=parseFloat(e);return isFinite(t)?0===t?kc.underflow:kc.truncate_float:kc.overflow}function Oc(e){return e.replace(Sc,"").replace(jc,"").replace(Ec,"").replace(Cc,"")}const Sc=/[eE][+-]?\d+$/,Cc=/^-?(0*)?/,jc=/\./,Ec=/0+$/;class Tc{isLosslessNumber=!0;constructor(e){if(!function(e){return bc.test(e)}(e))throw new Error('Invalid number (value: "'+e+'")');this.value=e}valueOf(){const e=xc(this.value);if(void 0===e||e===kc.truncate_float)return parseFloat(this.value);if(yc(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${e} and become ${parseFloat(this.value)}`)}toString(){return this.value}}function Ac(e){return new Tc(e)}function Pc(e,t,n,r){return Array.isArray(n)?r.call(e,t,function(e,t){for(let n=0;n<e.length;n++)e[n]=Pc(e,n+"",e[n],t);return e}(n,r)):n&&"object"==typeof n&&!function(e){return e&&"object"==typeof e&&!0===e.isLosslessNumber||!1}(n)?r.call(e,t,function(e,t){return Object.keys(e).forEach((n=>{const r=Pc(e,n,e[n],t);void 0!==r?e[n]=r:delete e[n]})),e}(n,r)):r.call(e,t,n)}function Ic(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ac,r=0;const o=c();return function(e){if(void 0===e)throw new SyntaxError(`JSON value expected ${x()}`)}(o),function(){if(r<e.length)throw new SyntaxError(`Expected end of input ${x()}`)}(),t?function(e,t){return Pc({"":e},"",e,t)}(o,t):o;function i(){if(e.charCodeAt(r)===Nc){r++,u();const t={};let n=!0;for(;r<e.length&&e.charCodeAt(r)!==Rc;){n?n=!1:(f(),u());const e=r,o=l();if(void 0===o)return void p();u(),d();const i=c();if(void 0===i)return void w();Object.prototype.hasOwnProperty.call(t,o)&&!Dc(i,t[o])&&h(o,e+1),t[o]=i}return e.charCodeAt(r)!==Rc&&function(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${x()}`)}(),r++,t}}function a(){if(e.charCodeAt(r)===Bc){r++,u();const t=[];let n=!0;for(;r<e.length&&e.charCodeAt(r)!==Vc;){n?n=!1:f();const e=c();v(e),t.push(e)}return e.charCodeAt(r)!==Vc&&function(){throw new SyntaxError(`Array item or end of array ']' expected ${x()}`)}(),r++,t}}function c(){u();const t=l()??function(){const t=r;e.charCodeAt(r)===Wc&&(r++,g(t));if(e.charCodeAt(r)===Jc)r++;else if(o=e.charCodeAt(r),o>=Xc&&o<=Yc)for(r++;_c(e.charCodeAt(r));)r++;var o;if(e.charCodeAt(r)===Kc)for(r++,g(t);_c(e.charCodeAt(r));)r++;if(e.charCodeAt(r)===os||e.charCodeAt(r)===rs)for(r++,e.charCodeAt(r)!==Wc&&e.charCodeAt(r)!==Gc||r++,g(t);_c(e.charCodeAt(r));)r++;if(r>t)return n(e.slice(t,r))}()??i()??a()??s("true",!0)??s("false",!1)??s("null",null);return u(),t}function s(t,n){if(e.slice(r,r+t.length)===t)return r+=t.length,n}function u(){for(;(t=e.charCodeAt(r))===qc||t===Fc||t===Hc||t===zc;)r++;var t}function l(){if(e.charCodeAt(r)===Qc){r++;let n="";for(;r<e.length&&e.charCodeAt(r)!==Qc;){if(e.charCodeAt(r)===$c){const t=e[r+1],o=Uc[t];void 0!==o?(n+=o,r++):"u"===t?Mc(e.charCodeAt(r+2))&&Mc(e.charCodeAt(r+3))&&Mc(e.charCodeAt(r+4))&&Mc(e.charCodeAt(r+5))?(n+=String.fromCharCode(parseInt(e.slice(r+2,r+6),16)),r+=5):b(r):y(r)}else(t=e.charCodeAt(r))>=32&&t<=1114111?n+=e[r]:m(e[r]);r++}return function(){if(e.charCodeAt(r)!==Qc)throw new SyntaxError(`End of string '"' expected ${x()}`)}(),r++,n}var t}function f(){if(e.charCodeAt(r)!==Zc)throw new SyntaxError(`Comma ',' expected after value ${x()}`);r++}function d(){if(e.charCodeAt(r)!==es)throw new SyntaxError(`Colon ':' expected after property name ${x()}`);r++}function v(e){if(void 0===e)throw new SyntaxError(`Array item expected ${x()}`)}function g(t){if(!_c(e.charCodeAt(r))){const n=e.slice(t,r);throw new SyntaxError(`Invalid number '${n}', expecting a digit ${x()}`)}}function p(){throw new SyntaxError(`Quoted object key expected ${x()}`)}function h(e,t){throw new SyntaxError(`Duplicate key '${e}' encountered at position ${t}`)}function m(e){throw new SyntaxError(`Invalid character '${e}' ${k()}`)}function y(t){const n=e.slice(t,t+2);throw new SyntaxError(`Invalid escape character '${n}' ${k()}`)}function w(){throw new SyntaxError(`Object value expected after ':' ${k()}`)}function b(t){const n=e.slice(t,t+6);throw new SyntaxError(`Invalid unicode character '${n}' ${k()}`)}function k(){return`at position ${r}`}function x(){return(r<e.length?`but got '${e[r]}'`:"but reached end of input")+" "+k()}}function Mc(e){return e>=Jc&&e<=Yc||e>=ts&&e<=is||e>=ns&&e<=as}function _c(e){return e>=Jc&&e<=Yc}function Dc(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>Dc(e,t[n])));if(Lc(e)&&Lc(t)){return[...new Set([...Object.keys(e),...Object.keys(t)])].every((n=>Dc(e[n],t[n])))}return!1}function Lc(e){return"object"==typeof e&&null!==e}const Uc={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},$c=92,Nc=123,Rc=125,Bc=91,Vc=93,qc=32,Fc=10,Hc=9,zc=13,Qc=34,Gc=43,Wc=45,Jc=48,Xc=49,Yc=57,Zc=44,Kc=46,es=58,ts=65,ns=97,rs=69,os=101,is=70,as=102;class cs{constructor(e,t){if(!e||!t)throw Yo.error("[SUIT]: event type constructor must receive window and track"),new Error("[SUIT]: event type constructor must receive window and track");this.window=e,this.tracker=t}setup(){throw Yo.error("[SUIT]: new event type must provide setup function"),new Error("[SUIT]: new event type must provide setup function")}getElementHierarchy(e){if(!e||"object"!=typeof e||!e.tagName)return"";const t=Array.from(e.classList||[]).filter((e=>!/^col-(lg|xs|md|xl|sm)-.*/.test(e))).filter((e=>!/^(my|mx|mt|m|ml|mr|mb|p|pt|pb|pl|pr|px|py)-.*/.test(e))).join(".");let n=`${e.tagName.toLowerCase()}${e.id?`#${e.id}`:""}`;return n+=t?`.${t}`:"",n}getElementOverrideAttributes(e){var t,n;let r=e,o={};if(null===(n=null===(t=this.tracker)||void 0===t?void 0:t.config)||void 0===n?void 0:n.attributeInheritance)for(;r&&r!==this.window.document.body;){const e=this.getElementCustomKeys(r);o=Object.assign(Object.assign({},e),o);for(const[t,n]of Object.entries(o))"string"==typeof n&&n.startsWith("!")&&e[t]&&(o=Object.assign(Object.assign({},o),{[t]:e[t]}));r=r.parentNode}else o=Object.assign({},this.getElementCustomKeys(r));return Object.fromEntries(Object.entries(o).map((e=>{let[t,n]=e;return[t,"string"==typeof n?n.replace(/!/g,""):n]})))}getFullElementHierarchy(e){const t=[];let n=e;for(;n&&n!==this.window.document.body;)t.push(this.getElementHierarchy(n)),n=n.parentNode;return t.reverse().join(" > ")}getElementCustomKeys(e){return e&&"attributes"in e?Array.from(e.attributes).reduce(((e,t)=>{if(t.name.startsWith("data-ev-")||t.name.startsWith("track-")){let n="";try{n=Ic(t.value,((e,t)=>"object"==typeof t&&null!==t&&"isLosslessNumber"in t?t.toString():t))}catch(e){n=t.value}const r=t.name.replace("data-ev-","").replace("track-","");["label","label-prefix","event"].includes(r)||(e[r]=n)}return e}),{}):{}}getElementEventLabel(e){var t,n;const r=e.getAttribute("data-ev-label")||e.getAttribute("track-label");if(null===(n=null===(t=this.tracker)||void 0===t?void 0:t.config)||void 0===n?void 0:n.disableEventLabelPrefix)return r;const o=e.getAttribute("data-ev-label-prefix");return r?`${"string"==typeof o?o:"general_"}${r}`:null}}class ss extends cs{setup(){["click","auxclick","contextmenu"].forEach((e=>{this.window.addEventListener(e,this.onClick.bind(this),!0)}))}getAdditionalData(e){var t;const n={};if(null===(t=e.innerText)||void 0===t?void 0:t.match(/[\w]/)){const t=e.innerText.trim().toLowerCase().replace(/[\W_]+/g,"_").replace(/^_|_$/g,"");n.inner_text=t}else e.hasAttribute("title")&&(n.title=e.getAttribute("title"));const r=e.getAttribute("aria-label");var o;return r&&(n.aria_label=(void 0===o&&(o={}),mc(r,Vo({delimiter:"_"},o)))),n}getEventData(e){const t=this.getElementOverrideAttributes(e);return e.hasAttribute("href")&&(t.href=e.getAttribute("href")),{event:"click",sublocation:"click",label:this.getElementEventLabel(e)||"general_click",data:Object.assign(Object.assign({hierarchy:this.getFullElementHierarchy(e)},t),this.getAdditionalData(e))}}onClick(e){const t=["a","button","[track-event=click]","[role=button]","[role=combobox]"].join(",");let n=e.target;try{if(n&&"function"==typeof n.closest)n=n.closest(t);else{let e=0;const r=100;for(;n&&!n.matches(t);)if(n=n.parentElement,e+=1,e>=r||!n){Yo.warn("[SUIT]: Max iterations reached or null element encountered while searching for target"),n=null;break}}}catch(e){Yo.warn("[SUIT]: Error accessing closest method:",e),n=null}if(n&&!n.hasAttribute("data-notrack")){const t={auxclick:"middle",contextmenu:"right"}[e.type]||"left",r=this.getEventData(n);this.tracker.track(Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},r.data),{click_type:t})}))}}}class us extends cs{constructor(){super(...arguments),this.observerCache={}}isElementAboveViewport(e){return e.getBoundingClientRect().bottom<=0}intersectionHandler(e,t){e.forEach((e=>{e.isIntersecting&&(this.tracker.track(this.getEventData(e)),t.unobserve(e.target))}))}getObserver(e){const t=e.toString();if(this.observerCache[t])return this.observerCache[t];const n=new this.window.IntersectionObserver(this.intersectionHandler.bind(this),{rootMargin:"0px",threshold:e||1});return this.observerCache[t]=n,n}setup(){var e;"IntersectionObserver"in this.window&&(this.getObserver(1),(e=this.window.document,new Promise((t=>{const{readyState:n}=e;"complete"!==n&&"interactive"!==n?e.addEventListener("DOMContentLoaded",t):t()}))).then((()=>{const{fn:e}=Wo((()=>{this.window.document.querySelectorAll("[impression]:not([eh-i]),[track-event=impression]:not([eh-i])").forEach((e=>{var t,n,r;if(!0===(null===(r=null===(n=null===(t=this.tracker)||void 0===t?void 0:t.config)||void 0===n?void 0:n.impressionConfig)||void 0===r?void 0:r.triggerAboveFold)&&this.isElementAboveViewport(e))this.tracker.track(this.getEventData({target:e}));else{const t=+e.getAttribute("impression")||1;this.getObserver(t).observe(e)}e.setAttribute("eh-i","true")}))}),300);e().flush();new MutationObserver((()=>{e()})).observe(document.body,{subtree:!0,childList:!0})})))}getEventData(e){return{event:"impression",sublocation:"impression",label:this.getElementEventLabel(e.target)||"general_impression",data:Object.assign({hierarchy:this.getFullElementHierarchy(e.target)},this.getElementOverrideAttributes(e.target))}}}class ls extends cs{setup(){this.window.addEventListener("submit",(e=>{"FORM"!==e.target.tagName||e.target.hasAttribute("data-notrack")||this.tracker.track(this.getEventData(e))}),!0)}getEventData(e){return{event:"enter",sublocation:"form",label:"general_enter",data:Object.assign({hierarchy:this.getFullElementHierarchy(e.target)},this.getElementOverrideAttributes(e.target))}}}class fs extends sc{constructor(){super({name:"gtm-ga",nameAliases:["gtm"]})}send(e){let{event:t,pageContext:n,userContext:r,browserData:o}=e;const i=Object.assign(Object.assign(Object.assign(Object.assign({event:t.gtmEvent||"ga",eventAction:t.event||" ",eventCategory:t.sublocation||" ",eventLabel:t.label||" ",eventValue:t.value||" "},t.data),n),r),o);window.dataLayer?window.dataLayer.push(i):Yo.error("[SUIT]: dataLayer not present for gtm event",i)}}return function(e){const t=Object.assign(Object.assign({window:window,sendPageView:!0,dedupeGeneralEvents:!0,attributeInheritance:!1,disableEventLabelPrefix:!1},e),{env:e.env||("www.upwork.com"===window.location.hostname?"prod":void 0),snowplowConfig:Object.assign({pushToDataLayer:!1},e.snowplowConfig)});Yo.setLevel("debug");const r=new si({config:Object.assign({trackers:[new dc(Object.assign({window:t.window,env:t.env},t.snowplowConfig)),new fs],autoTrackingEvents:[ss,us,ls]},t)});t.window.dispatchEvent(new CustomEvent("suit2_loaded",{detail:{tracker:r}})),t.sendPageView&&r.pageView(),t.window.suitTracker=r;const o=n("cookie_prefix")||"",i=n(`${o}visitor_id`);return i&&i!==e.userContext.visitor_id&&Yo.warn("[SUIT]: data mismatch: visitor_id"),r}}();

//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/suit2-tracker/0.3.41/index.iife.min.js.map